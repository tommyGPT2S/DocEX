# Database configuration
database:
  type: sqlite
  
  # SQLite configuration
  sqlite:
    path: docex.db
    # For database-level multi-tenancy (Model B):
    # path_template: "storage/tenant_{tenant_id}/docex.db"
    
  # PostgreSQL configuration
  postgres:
    host: localhost
    port: 5432
    database: docex
    user: postgres
    password: postgres
    # For database-level multi-tenancy (Model B):
    # schema_template: "tenant_{tenant_id}"  # Schema name pattern per tenant
    
  # Common settings
  echo: true  # Enable SQL query logging
  pool_size: 5
  max_overflow: 10
  pool_timeout: 30
  pool_recycle: 3600

# Security and multi-tenancy configuration
security:
  # Multi-tenancy model: "row_level" (Model A) or "database_level" (Model B)
  multi_tenancy_model: row_level
  
  # Enable automatic database routing based on tenant_id (for database_level model)
  tenant_database_routing: false
  
  # User context enforcement (for row_level model)
  enforce_user_context: false
  context_match_fields:
    - tenant_id

# Application settings
app:
  name: DocEX
  version: 1.0.0
  debug: true
  log_level: DEBUG 

storage:
  type: filesystem
  filesystem:
    path: storage/docex
  s3:
    # Required: S3 bucket name
    bucket: null
    # Required: AWS region for S3 bucket
    region: us-east-1
    # Optional: Application name prefix for S3 paths
    # If set, S3 paths will be: {application_name}/{tenant_id}/{document_type}_{stage}/
    # If not set, S3 paths will be: {tenant_id}/{document_type}_{stage}/
    # Examples: "llamasee-dp-dev", "llamasee-dp-prod", "my-app-staging"
    application_name: null
    # Optional: S3 key prefix for all objects (alternative to application_name)
    prefix: null
    # Optional: AWS credentials (if not using IAM roles or default profile)
    access_key: null
    secret_key: null
    session_token: null
    # Optional: Boto3 configuration
    max_retries: 3
    retry_delay: 1.0
    connect_timeout: 60
    read_timeout: 60

logging:
  level: DEBUG
  file: docex.log 